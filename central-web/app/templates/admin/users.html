{% extends "base.html" %}

{% block styles %}
{{super()}}
<link rel="stylesheet" href="{{url_for('static', filename='admin/users.css')}}">
{% endblock %}

{% block page_content %}
<div class="users-list">
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">All Users</h3>
		</div>
		<div class="panel-body">
			<table class="table table-hover">
				<thead>
					<tr>
						<th></th>
						<th>User</th>
						<th>Full Name</th>
						<th>Role</th>
					</tr>
				</thead>
				<tbody>
				{% for user in users %}
					<tr>
						<td>
						{# TODO options to edit profile #}
						{# TODO options to reset password #}
						{% if current_user.id != user.id %}
							<a  class="btn btn-xs btn-default user-delete" 
							    href="{{ url_for('admin.delete_user', userid = user.id) }}" 
							    onclick="return window.confirm('Are you sure you want to remove this user?');">
								<span class="glyphicon glyphicon-remove"></span>
							</a>
						{% endif %}
						</td>
						<td class="user_username">{{ user.username }}</td>
						<td class="user_fullname">{{ user.fullname }}</td>
						{# TODO convert role to something readable #}
						<td class="user_role">{{ user.role }}</td>
					</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>
{# TODO button to create new user #}
{% endblock %}
